{% extends 'surrounding.htm' %}

{% block content %}

<div class="row">
{% if auth.user %}
	logged in as <strong>{{ auth.user.username }}</strong>
	<a href="{{root}}auth/signout" class="btn btn-default ajax-link refresh-status">Logout</a>
{% else %}
	<div class="col-md-3">
	{% if users|length %}
		<h2>Quick login</h2>
		{% for user in users %}
			<div class="row">
				<a href="{{ path_for('auth.quicksignin', { itemUid: user.uid }) }}" class="ajax-link btn btn-default btn-block refresh-status">
				<i class="fa fa-user pull-left"></i>
				{{user.username}}
				</a>
			</div>
		{% endfor %}
	{% endif %}
	</div>
	<div class="col-md-4">
		<h2>Login</h2>
		<div class="panXel paXnel-default">
			<div class="panXel-body">
				<form action="{{ path_for('auth.signin')}}" method="post" class="ajax-post">
					<div class="form-group row">
						<label for="username" class="col-sm-4 col-form-label">Username</label>
						<div class="col-sm-8">
							<input type="text" class="form-control" name="username" id="username" value="{{oldInput.username}}">
						</div>
					</div>
					<div class="form-group row">
						<label for="password" class="col-sm-4 col-form-label">Password</label>
						<div class="col-sm-8">
							<input type="password" class="form-control" name="password" id="password" value="">
						</div>
					</div>
					{# add cross-site-request-forgery protection #}
					{{ csrf.field | raw }}
					<div class="form-group row">
						<div class="col-sm-12">
							<button type="submit" class="btn btn-default btn-block">Login</button>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-sm-12">
							<hr>
							<a class="btn btn-default btn-block ajax-link" href="{{ path_for('auth.signup')}}">or create new account</a>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
{% endif %}
</div>
{% endblock %}
